<apex:page controller="AnswersController" standardStylesheets="false" showHeader="false" renderAs="pdf">
    <apex:composition template="Layout">
        <apex:define name="title">
            <title>Answers</title>
        </apex:define>
        <apex:define name="styles">
            <apex:stylesheet value="{!URLFOR($Resource.pdfstyles)}" />
        </apex:define>
        <apex:define name="breadcrumbs">
        </apex:define>
        <apex:define name="mainFullWidth">
            
            <h1 class="heading-xlarge">
                <span class="heading-secondary">{!application['Name']}: {!application['Theme__c']}
                	<span style="float:right">{!application['Contact__r.Name']}</span></span>
                {!form.title}
            </h1>
                                  
	        <apex:repeat value="{!sections}" var="section">
            	<h1 class="heading-large">{!section.name}</h1>        
				<apex:repeat value="{!section.fieldSets}" var="fs">
					<h1 class="heading-large">{!fs.title}</h1>                            	
			        <table class="sections">
			            <tbody class="summary">
	 	                    <apex:repeat value="{!fs.fields}" var="field">
	                            <tr>
	                                <th class="question" valign="top">{!field.label}</th>
	                                <td valign="top"><apex:outputField value="{!targetObject[field.identifier]}"/></td>
	                            </tr>
		                    </apex:repeat>
			            </tbody>
			        </table>  
				</apex:repeat>
	                    
				<apex:outputPanel rendered="{!section.hasChildren}">
					<apex:repeat value="{!section.children}" var="children">
						<div class="page-break"/>
						<h1 class="heading-medium">{!section.name}: {!children.title} LIST</h1>                            	
						<apex:repeat value="{!children.childRecs}" var="obj">
							<apex:repeat value="{!children.childPages}" var="pg">
								<apex:outputText rendered="{!pg.title != null}">
									<h1 class="heading-medium">{!pg.title}</h1>    
								</apex:outputText>
						        <table class="sections">
						            <tbody class="summary">
	                                <apex:repeat value="{!pg.fields}" var="field">
	                                    <tr>
	                                        <th class="question" valign="top">{!field.label}</th>
	                                        <td valign="top"><apex:outputField value="{!obj[field.identifier]}"/></td>
	                                    </tr>
	                                </apex:repeat>
	                            	<tr><td style="border:none"></td></tr>
	                            	</tbody>
	                            </table>
	                        </apex:repeat>
	                    	<table><tr><td style="border-bottom:2px solid black"></td></tr></table>
	                    </apex:repeat>
					</apex:repeat>
				</apex:outputPanel> 
	                    
				<apex:outputPanel rendered="{!section.name<>'DECLARATION'}">
				    <div class="page-break"/>
				</apex:outputPanel>
			</apex:repeat>
        </apex:define>
    </apex:composition>
</apex:page>